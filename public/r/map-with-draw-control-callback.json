{
    "$schema": "https://ui.shadcn.com/schema/registry-item.json",
    "name": "map-with-draw-control-callback",
    "type": "registry:example",
    "registryDependencies": ["map"],
    "files": [
        {
            "path": "registry/new-york-v4/examples/map-with-draw-control-callback.tsx",
            "content": "\"use client\"\n\nimport { Badge } from \"@/registry/new-york-v4/ui/badge\"\nimport {\n    Map,\n    MapDrawCircle,\n    MapDrawControl,\n    MapDrawDelete,\n    MapDrawEdit,\n    MapDrawMarker,\n    MapDrawPolygon,\n    MapDrawPolyline,\n    MapDrawRectangle,\n    MapDrawUndo,\n    MapTileLayer,\n    useLeaflet,\n} from \"@/registry/new-york-v4/ui/map\"\nimport type { LatLngExpression } from \"leaflet\"\nimport { useState } from \"react\"\n\nexport function MapWithDrawControlCallback() {\n    const TORONTO_COORDINATES = [43.6532, -79.3832] satisfies LatLngExpression\n\n    const { L } = useLeaflet()\n    const [numberOfShapes, setNumberOfShapes] = useState(0)\n\n    return L ? (\n        <Map center={TORONTO_COORDINATES}>\n            <MapTileLayer />\n            <MapDrawControl\n                onLayersChange={(layers) => {\n                    setNumberOfShapes(layers.getLayers().length)\n                    layers.eachLayer((layer) => {\n                        if (layer instanceof L.Marker) {\n                            console.log(\"Marker:\", layer.getLatLng())\n                        } else if (\n                            layer instanceof L.Polyline &&\n                            !(layer instanceof L.Polygon)\n                        ) {\n                            console.log(\"Polyline:\", layer.getLatLngs())\n                        } else if (layer instanceof L.Circle) {\n                            console.log(\n                                \"Circle center:\",\n                                layer.getLatLng(),\n                                \"radius:\",\n                                layer.getRadius()\n                            )\n                        } else if (layer instanceof L.Rectangle) {\n                            console.log(\"Rectangle bounds:\", layer.getBounds())\n                        } else if (layer instanceof L.Polygon) {\n                            console.log(\"Polygon:\", layer.getLatLngs())\n                        }\n                    })\n                }}>\n                <MapDrawMarker />\n                <MapDrawPolyline />\n                <MapDrawCircle />\n                <MapDrawRectangle />\n                <MapDrawPolygon />\n                <MapDrawEdit />\n                <MapDrawDelete />\n                <MapDrawUndo />\n            </MapDrawControl>\n            <Badge className=\"absolute right-1 bottom-1 z-1000\">\n                Shapes: {numberOfShapes}\n            </Badge>\n        </Map>\n    ) : null\n}\n",
            "type": "registry:example"
        }
    ]
}
